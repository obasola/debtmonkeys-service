/*
 * Created on 26 Feb 2017 ( Time 16:22:45 )
 * Generated by Telosys Tools Generator ( version 2.1.1 )
 */
package net.kumasi.debtmonkeys.service.business.service.mapping;

import static org.junit.Assert.assertEquals;

import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;
import org.modelmapper.ModelMapper;
import org.modelmapper.convention.MatchingStrategies;
import org.springframework.stereotype.Component;
import net.kumasi.debtmonkeys.service.domain.Account;
import net.kumasi.debtmonkeys.service.domain.jpa.AccountEntity;
import net.kumasi.debtmonkeys.service.domain.jpa.AccountOwnerEntity;
import net.kumasi.debtmonkeys.service.domain.jpa.AccountTypeEntity;
import net.kumasi.debtmonkeys.service.test.MockValues;

/**
 * Test : Mapping between entity beans and display beans.
 */
public class AccountServiceMapperTest {

	private AccountServiceMapper accountServiceMapper;

	private static ModelMapper modelMapper = new ModelMapper();

	private MockValues mockValues = new MockValues();
	
	
	@BeforeClass
	public static void setUp() {
		modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);
	}
	
	@Before
	public void before() {
		accountServiceMapper = new AccountServiceMapper();
		accountServiceMapper.setModelMapper(modelMapper);
	}
	
	/**
	 * Mapping from 'AccountEntity' to 'Account'
	 * @param accountEntity
	 */
	@Test
	public void testMapAccountEntityToAccount() {
		// Given
		AccountEntity accountEntity = new AccountEntity();
		accountEntity.setAccountName(mockValues.nextString(45));
		accountEntity.setOriginalBalance(mockValues.nextDouble());
		accountEntity.setCurrentBalance(mockValues.nextDouble());
		accountEntity.setMinPaymentDue(mockValues.nextDouble());
		accountEntity.setDateLastPayment(mockValues.nextDate());
		accountEntity.setDateNextPaymentDue(mockValues.nextDate());
		accountEntity.setDateOpened(mockValues.nextDate());
		accountEntity.setDateClosed(mockValues.nextDate());
		accountEntity.setDateCreated(mockValues.nextDate());
		accountEntity.setDateModified(mockValues.nextDate());
		accountEntity.setAutoPayment(mockValues.nextByte());
		accountEntity.setWebSite(mockValues.nextString(65));
		accountEntity.setAccountOwner(new AccountOwnerEntity());
		accountEntity.getAccountOwner().setId(mockValues.nextInteger());
		accountEntity.setAccountType(new AccountTypeEntity());
		accountEntity.getAccountType().setId(mockValues.nextInteger());
		
		// When
		Account account = accountServiceMapper.mapAccountEntityToAccount(accountEntity);
		
		// Then
		assertEquals(accountEntity.getAccountName(), account.getAccountName());
		assertEquals(accountEntity.getOriginalBalance(), account.getOriginalBalance());
		assertEquals(accountEntity.getCurrentBalance(), account.getCurrentBalance());
		assertEquals(accountEntity.getMinPaymentDue(), account.getMinPaymentDue());
		assertEquals(accountEntity.getDateLastPayment(), account.getDateLastPayment());
		assertEquals(accountEntity.getDateNextPaymentDue(), account.getDateNextPaymentDue());
		assertEquals(accountEntity.getDateOpened(), account.getDateOpened());
		assertEquals(accountEntity.getDateClosed(), account.getDateClosed());
		assertEquals(accountEntity.getDateCreated(), account.getDateCreated());
		assertEquals(accountEntity.getDateModified(), account.getDateModified());
		assertEquals(accountEntity.getAutoPayment(), account.getAutoPayment());
		assertEquals(accountEntity.getWebSite(), account.getWebSite());
		assertEquals(accountEntity.getAccountOwner().getId(), account.getAccountOwnerId());
		assertEquals(accountEntity.getAccountType().getId(), account.getAccountTypeId());
	}
	
	/**
	 * Test : Mapping from 'Account' to 'AccountEntity'
	 */
	@Test
	public void testMapAccountToAccountEntity() {
		// Given
		Account account = new Account();
		account.setAccountName(mockValues.nextString(45));
		account.setOriginalBalance(mockValues.nextDouble());
		account.setCurrentBalance(mockValues.nextDouble());
		account.setMinPaymentDue(mockValues.nextDouble());
		account.setDateLastPayment(mockValues.nextDate());
		account.setDateNextPaymentDue(mockValues.nextDate());
		account.setDateOpened(mockValues.nextDate());
		account.setDateClosed(mockValues.nextDate());
		account.setDateCreated(mockValues.nextDate());
		account.setDateModified(mockValues.nextDate());
		account.setAutoPayment(mockValues.nextByte());
		account.setWebSite(mockValues.nextString(65));
		account.setAccountOwnerId(mockValues.nextInteger());
		account.setAccountTypeId(mockValues.nextInteger());

		AccountEntity accountEntity = new AccountEntity();
		
		// When
		accountServiceMapper.mapAccountToAccountEntity(account, accountEntity);
		
		// Then
		assertEquals(account.getAccountName(), accountEntity.getAccountName());
		assertEquals(account.getOriginalBalance(), accountEntity.getOriginalBalance());
		assertEquals(account.getCurrentBalance(), accountEntity.getCurrentBalance());
		assertEquals(account.getMinPaymentDue(), accountEntity.getMinPaymentDue());
		assertEquals(account.getDateLastPayment(), accountEntity.getDateLastPayment());
		assertEquals(account.getDateNextPaymentDue(), accountEntity.getDateNextPaymentDue());
		assertEquals(account.getDateOpened(), accountEntity.getDateOpened());
		assertEquals(account.getDateClosed(), accountEntity.getDateClosed());
		assertEquals(account.getDateCreated(), accountEntity.getDateCreated());
		assertEquals(account.getDateModified(), accountEntity.getDateModified());
		assertEquals(account.getAutoPayment(), accountEntity.getAutoPayment());
		assertEquals(account.getWebSite(), accountEntity.getWebSite());
		assertEquals(account.getAccountOwnerId(), accountEntity.getAccountOwner().getId());
		assertEquals(account.getAccountTypeId(), accountEntity.getAccountType().getId());
	}

}